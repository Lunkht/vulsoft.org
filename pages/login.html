<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion - Vulsoft</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/auth.css">
</head>
<body>
    <div class="auth-container">
        <!-- Section Contenu (Gauche) -->
        <div class="auth-content-section">
            <div class="auth-content">
                <div class="logo-container">
                    <img src="../images/logo-Vulsoft-1.svg" alt="Vulsoft" class="auth-logo">
                </div>
                
                <div class="content-text">
                    <h2>Bienvenue sur Vulsoft</h2>
                    <p>Connectez-vous pour accéder à votre espace et gérer vos projets.</p>
                </div>
            </div>
        </div>

        <!-- Section Formulaire (Droite) -->
        <div class="auth-form-section">
            <div class="auth-form-container">
                <div class="auth-header">
                    <h1 class="auth-title">Connexion</h1>
                    <p class="auth-subtitle">Heureux de vous revoir !</p>
                </div>

                <!-- Formulaire de connexion -->
                <div class="auth-form-wrapper active" id="login-form-wrapper">
                    <form id="login-form" class="auth-form">
                        <div class="form-group">
                            <label for="email">Adresse e-mail</label>
                            <input type="email" id="email" name="email" required placeholder="votre@email.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="password">Mot de passe</label>
                            <input type="password" id="password" name="password" required placeholder="••••••••">
                        </div>

                        <div class="form-options">
                            <a href="#" class="forgot-password">Mot de passe oublié ?</a>
                        </div>

                        <button type="submit" class="auth-button">Se connecter</button>
                    </form>
                </div>
                <div id="login-error" class="auth-error"></div>

                <div class="auth-bottom">
                    Pas encore de compte ? <a href="signup.html">Inscrivez-vous</a>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/vulsoft-auth.js"></script>
    <script>
        const auth = new VulsoftAuth({
            apiUrl: 'http://localhost:3000/api',
            onAuthStateChanged: (user) => {
                if (user) {
                    window.location.href = '../index.html';
                }
            }
        });
        
        const authUI = new VulsoftAuthUI(auth);

        authUI.handleLoginForm('login-form', {
            errorElement: 'login-error',
            redirectUrl: '../index.html'
        });

        document.getElementById('google-login').addEventListener('click', (e) => {
            e.preventDefault();
            alert('Connexion Google bientôt disponible');
        });
    </script>
</body>
</html>